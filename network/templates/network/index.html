{% extends "network/layout.html" %}
{% load static %}
{% block body %}
    <div id="new_post_view">
        <h3></h3>
    </div>
    <h3> All Posts</h3>
    <div id="all_posts_view">
        <div id="page_0">
            {% if all_posts %}    
                {% for post in all_posts %} 
                    <div id="posts_style">
                        <a id="profile"  href="profile/{{ post.poster.id }}">{{ post.poster }}</a>
                        <div id="post-description-{{post.id}}" class="description_post"> {{ post.description }} </div>
                        {% if post.poster.id == user.id %}
                            <div id="edit" onclick="edit_field('{{ post.id }}')">Edit</div>
                        {% else %}
                        {% endif %}
                        <textarea class="form-control mb-2" id="edit-box-{{post.id}}" name="edit-box" style="display:none;">{{ post.description }}</textarea>
                        <div id="edit-btns">
                            <button id="edit-save-btn-{{post.id}}" class="page_button" style="display:none;"  onclick="save_edit('{{ post.id }}')">Save</button>
                        </div>
                        <div id="like_complete">
                            {% if user.id in post.likers_id %}
                                <button class="yes_button" id="like-btn-{{post.id}}" value="heart_full" onclick="like('{{ post.id }}')">
                                    <img src="{% static 'network/images/heart_full.jpg' %}" id="heart-img-{{ post.id }}" alt="jacket" width="25" >
                                </button>
                            {% else %}
                                <button class="yes_button" id="like-btn-{{post.id}}" value="heart_empty"  onclick="like('{{ post.id }}')">
                                    <img src="{% static 'network/images/heart_empty.jpg' %}" id="heart-img-{{ post.id }}" alt="jacket" width="25" >
                                </button>
                            {% endif %}
                            <div id="like-count-{{post.id}}" class="d-inline-block">{{post.number_likes}}</div> likes 
                        </div>
                        <div id="post-{{post.date_added}}" class="date_post"> {{ post.date_added }}</div>
                        <div>{{ post.timestamp }}</div>
                    </div>
                {% endfor %}
                <div id="id_page_buttons">
                    <button id="selected_button" class="no-button" > 1 </button>
                    {% if list_total_pages %}
                        {% for page in list_total_pages %} 
                            <button class="page_button"  id="not_selected_button" onclick="pages('{{user.id}}', 0, '{{page}}'-1)">{{page}}</button>
                        {% endfor %}
                        <button class="page_button" onclick="pages('{{user.id}}', 0, 1)">Next page</button>   
                    {% endif %}
                </div>
            {% else %}
                    <li>no post</li>
            {% endif %}
        </div>
    </div>

    
    <form id="lookup-form">
        <div class="search">
          <input class="search-text" type="search" id="search" placeholder="Search" autocomplete="off">
          <!-- <input class="search-text" type="search" id="search" placeholder="Search"> -->
          <a id="submitSearch">
            <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M31.7049 28.2949C30.9243 27.5472 30.1646 26.778 29.4266 25.9883C28.8066 25.3583 28.4333 24.8999 28.4333 24.8999L23.7666 22.6716C25.6349 20.5526 26.666 17.8249 26.6666 14.9999C26.6666 8.56825 21.4333 3.33325 14.9999 3.33325C8.56659 3.33325 3.33325 8.56825 3.33325 14.9999C3.33325 21.4316 8.56659 26.6666 14.9999 26.6666C17.9383 26.6666 20.6166 25.5666 22.6716 23.7682L24.8999 28.4349C24.8999 28.4349 25.3583 28.8082 25.9883 29.4282C26.6333 30.0332 27.4816 30.8516 28.2949 31.7066L30.5582 34.0266L31.5649 35.1032L35.0999 31.5682L34.0233 30.5616C33.3916 29.9416 32.5483 29.1182 31.7049 28.2949V28.2949ZM14.9999 23.3333C10.4049 23.3333 6.66659 19.5949 6.66659 14.9999C6.66659 10.4049 10.4049 6.66658 14.9999 6.66658C19.5949 6.66658 23.3333 10.4049 23.3333 14.9999C23.3333 19.5949 19.5949 23.3333 14.9999 23.3333Z"
                fill="#001A83" />
            </svg>
          </a>
        </div>
    </form>
{% endblock %}